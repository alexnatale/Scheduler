(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(20)},18:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(7),l=a.n(s),c=(a(18),a(1)),o=a(4),d=a(8),i=a.n(d),m=a(22),u=a(23),b=a(24),p=a(25),f=a(26),g=a(27);const x=60,E=7,y=22,h=["M","T","W","Th","F","Sa"],N=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=[["ASTR 109","Lec","M","1:15 PM","2:40 PM",!1,""]],w=e=>{const[t,a]=e.trim().split(" ");let[r,n]=t.split(":").map(Number);return"PM"===a&&12!==r&&(r+=12),"AM"===a&&12===r&&(r=0),r+n/60},j=e=>e.startsWith("ASTR 1")?"bg-blue-200":/PHYS 21[7-9]/.test(e)?"bg-green-200":["PHYS 210","PHYS 211"].includes(e)?"bg-amber-200":"bg-gray-200";function k(){const[e,t]=Object(r.useState)(v.map((e,t)=>({id:String(t),course:e[0],suffix:e[1],day:e[2],start:e[3],end:e[4],isLab:e[5],instructor:e[6]}))),[a,s]=Object(r.useState)(null),l=Object(r.useMemo)(()=>{const t={M:1,T:2,W:3,Th:4,F:5,Sa:6},a={};return e.forEach(e=>{a[e.course]=a[e.course]||new Set,a[e.course].add(e.day)}),Object.fromEntries(Object.entries(a).map(e=>{let[a,r]=e;return[a,Array.from(r).sort((e,a)=>t[e]-t[a]).join("/")]}))},[e]),d=Object(r.useMemo)(()=>{const t=h.reduce((e,t)=>Object(c.a)(Object(c.a)({},e),{},{[t]:[]}),{});e.forEach(e=>t[e.day].push(e));const a={};return h.forEach(e=>{const r=t[e].sort((e,t)=>w(e.start)-w(t.start)),n=[];r.forEach(e=>{let t=0;for(;t<n.length&&w(e.start)<n[t];)t++;t===n.length?n.push(w(e.end)):n[t]=w(e.end),a[e.id]={col:t,totalCols:n.length}})}),a},[e]),k=Array.from({length:y-E+1},(e,t)=>E+t);return n.a.createElement("div",{className:"w-full h-full flex flex-col p-4 gap-4 rounded-2xl shadow-lg bg-white"},n.a.createElement("div",{className:"flex items-center justify-between"},n.a.createElement("h2",{className:"text-xl font-semibold"},"Weekly Schedule"),n.a.createElement("div",{className:"flex gap-2"},n.a.createElement("button",{className:"inline-flex items-center px-2 py-1 border rounded text-sm",onClick:()=>{const e=Date.now().toString();t(t=>[...t,{id:e,course:"NEW",suffix:"",day:"M",start:"8:00 AM",end:"9:00 AM",isLab:!1,instructor:""}]),s(e)}},n.a.createElement(m.a,{className:"w-4 h-4 mr-1"})," Add Class"),n.a.createElement("button",{className:"inline-flex items-center px-2 py-1 border rounded text-sm",onClick:()=>{const t=[["Course","Suffix","Day","Start","End","Instructor"],...e.map(e=>[e.course,e.suffix,e.day,e.start,e.end,e.instructor])].map(e=>e.join(",")).join("\n"),a=new Blob([t],{type:"text/csv"}),r=document.createElement("a");r.href=URL.createObjectURL(a),r.download="schedule.csv",r.click()}},n.a.createElement(u.a,{className:"w-4 h-4 mr-1"})," CSV"),n.a.createElement("button",{className:"inline-flex items-center px-2 py-1 border rounded text-sm",onClick:async()=>{const e=document.getElementById("schedule-area");if(!e)return;const t=await i()(e,{backgroundColor:"#fff"}),a=document.createElement("a");a.href=t.toDataURL(),a.download="schedule.png",a.click()}},n.a.createElement(b.a,{className:"w-4 h-4 mr-1"})," PNG"))),n.a.createElement("div",{className:"flex overflow-auto flex-1"},n.a.createElement("div",{className:"flex flex-col items-end pr-2 text-xs select-none"},k.map(e=>n.a.createElement("div",{key:e,style:{height:x},className:"w-12 text-right pr-1 leading-none"},e,":00"))),n.a.createElement(o.a,{onDragEnd:e=>{e.destination&&t(t=>t.map(t=>t.id===e.draggableId?Object(c.a)(Object(c.a)({},t),{},{day:e.destination.droppableId}):t))}},n.a.createElement("div",{id:"schedule-area",className:"relative flex border-l border-gray-300 flex-1"},h.map((a,r)=>n.a.createElement(o.c,{key:a,droppableId:a},i=>{const m=Math.max(...e.filter(e=>e.day===a).map(e=>{var t;return(null===(t=d[e.id])||void 0===t?void 0:t.totalCols)||1}),1);return n.a.createElement("div",Object.assign({ref:i.innerRef},i.droppableProps,{className:"border-r border-gray-300 relative",style:{width:120*m}}),n.a.createElement("div",{className:"text-center font-medium text-sm py-1 bg-gray-50 sticky top-0 z-10 border-b border-gray-300"},N[r]),e.filter(e=>e.day===a).map(e=>{const a=d[e.id],r=(w(e.start)-E)*x,i=(w(e.end)-w(e.start))*x,m=120*a.col;return n.a.createElement(o.b,{key:e.id,draggableId:e.id,index:0},a=>n.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:Object(c.a)(Object(c.a)({},a.draggableProps.style),{},{top:r,left:m,width:112,height:i-4}),className:"".concat(j(e.course)," absolute p-2 rounded-2xl shadow-md text-xs leading-tight overflow-hidden cursor-move")}),n.a.createElement("div",{className:"font-semibold truncate text-[0.7rem]"},e.course," ",e.suffix),n.a.createElement("div",{className:"text-[0.7rem]"},l[e.course]),n.a.createElement("div",{className:"text-[0.7rem]"},e.start," \u2013 ",e.end),n.a.createElement("div",{className:"italic text-gray-600 truncate"},e.instructor||"<no instructor>"),n.a.createElement("div",{className:"absolute bottom-1 right-1 flex gap-1 opacity-0 group-hover:opacity-100 transition"},n.a.createElement("button",{onClick:a=>{a.stopPropagation(),(e=>t(t=>{const a=t.find(t=>t.id===e);return[...t,Object(c.a)(Object(c.a)({},a),{},{id:Date.now().toString(),day:"F"})]}))(e.id)},className:"p-0"},n.a.createElement(p.a,{className:"w-4 h-4"})),n.a.createElement("button",{onClick:t=>{t.stopPropagation(),s(e.id)},className:"p-0"},n.a.createElement(f.a,{className:"w-4 h-4"})),n.a.createElement("button",{onClick:a=>{a.stopPropagation(),(e=>t(t=>t.filter(t=>t.id!==e)))(e.id)},className:"p-0"},n.a.createElement(g.a,{className:"w-4 h-4"})))))}),i.placeholder)}))))),a&&n.a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},n.a.createElement("div",{className:"bg-white p-4 rounded shadow-lg w-80"},n.a.createElement("h3",{className:"text-lg font-semibold mb-2"},"Edit Class"),(()=>{const r=e.find(e=>e.id===a);return r?n.a.createElement("div",{className:"space-y-3 text-sm"},["course","suffix","instructor"].map(e=>n.a.createElement("div",{key:e,className:"flex items-center gap-2"},n.a.createElement("label",{className:"w-20 capitalize"},e),n.a.createElement("input",{className:"flex-1 border rounded px-2 py-1",value:r[e],onChange:a=>((e,a,r)=>t(t=>t.map(t=>t.id===e?Object(c.a)(Object(c.a)({},t),{},{[a]:r}):t)))(r.id,e,a.target.value)}))),n.a.createElement("div",{className:"flex justify-end gap-2 mt-4"},n.a.createElement("button",{className:"px-3 py-1 border rounded text-sm",onClick:()=>s(null)},"Close"))):null})())))}l.a.createRoot(document.getElementById("root")).render(n.a.createElement(k,null))}},[[10,1,2]]]);
//# sourceMappingURL=main.5f01a77b.chunk.js.map